<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>SchoolCloud Portal</title>
  <style>
    :root { color-scheme: light dark; }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #e0ecff 0, #f5f5f7 38%, #e5e7eb 100%);
      color: #111827;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    a {
      color: #4f46e5;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .page {
      max-width: 960px;
      margin: 0 auto;
      padding: 32px 16px 40px;
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 8px;
    }

    .logo-mark {
      width: 40px;
      height: 40px;
      border-radius: 12px;
      background: linear-gradient(135deg, #4f46e5, #ec4899);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 20px;
      box-shadow: 0 12px 25px rgba(15, 23, 42, 0.25);
    }

    nav {
      display: flex;
      gap: 16px;
      font-size: 0.95rem;
    }

    nav a {
      color: #4b5563;
    }

    nav a:hover {
      color: #111827;
    }

    .hero-card {
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(10px);
      border-radius: 18px;
      padding: 24px 22px 26px;
      box-shadow: 0 18px 45px rgba(15,23,42,0.15);
      display: grid;
      grid-template-columns: minmax(0, 2.2fr) minmax(0, 1.6fr);
      gap: 20px;
    }

    @media (max-width: 800px) {
      .hero-card {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    h1 {
      font-size: clamp(1.8rem, 3vw, 2.2rem);
      margin: 0 0 8px;
    }

    .hero-subtitle {
      margin: 0 0 16px;
      color: #4b5563;
      max-width: 32rem;
      font-size: 0.98rem;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #eef2ff;
      color: #4338ca;
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .roles {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 8px;
      font-size: 0.9rem;
    }

    .role-chip {
      padding: 4px 10px;
      border-radius: 999px;
      background: #f3f4f6;
      color: #374151;
    }

    .cta-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 12px;
      align-items: center;
    }

    .btn-primary {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 18px;
      border-radius: 999px;
      background: linear-gradient(135deg, #4f46e5, #6366f1);
      color: white;
      font-weight: 600;
      font-size: 0.95rem;
      border: none;
      cursor: pointer;
      box-shadow: 0 10px 25px rgba(79,70,229,0.35);
    }

    .btn-primary:hover {
      filter: brightness(1.05);
    }

    .btn-ghost {
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: white;
      color: #374151;
      font-size: 0.9rem;
    }

    .btn-ghost:hover {
      background: #f9fafb;
    }

    .hero-meta {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .side-panel {
      border-left: 1px solid #e5e7eb;
      padding-left: 18px;
    }

    @media (max-width: 800px) {
      .side-panel {
        border-left: none;
        border-top: 1px solid #e5e7eb;
        padding-left: 0;
        padding-top: 16px;
      }
    }

    .side-panel h2 {
      font-size: 1rem;
      margin: 0 0 8px;
    }

    .side-panel p {
      margin: 0 0 8px;
      color: #4b5563;
      font-size: 0.9rem;
    }

    .side-panel ul {
      padding-left: 18px;
      margin: 6px 0 0;
      color: #4b5563;
      font-size: 0.9rem;
    }

    .section {
      margin-top: 10px;
      background: rgba(255,255,255,0.9);
      border-radius: 16px;
      padding: 18px 18px 20px;
      box-shadow: 0 10px 28px rgba(15,23,42,0.10);
    }

    .section h2 {
      margin: 0 0 8px;
      font-size: 1.1rem;
    }

    .section p {
      margin: 0 0 8px;
      color: #4b5563;
      font-size: 0.93rem;
    }

    /* Architecture card wrapper ‚Äì lighter/thinner blue frame */
    .diagram-wrapper {
      margin-top: 8px;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid #bfdbfe;   /* light blue */
      background: #f9fafb;
      padding: 6px;
    }

    .diagram-wrapper img {
      width: 100%;
      display: block;
    }
    .diagram-wrapper.small {
      max-width: 420px;         /* roughly half the card width */
      margin: 8px auto 0;       /* center it */
    }
        .repo-bubbles {
      margin-top: 12px;
      padding: 12px 10px 8px;
      border-radius: 16px;
      border: 1px solid #e5e7eb;
      background: #f9fafb;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
      font-size: 0.8rem;
    }

    .repo-row {
      --level: 0;
      position: relative;
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 6px;
      padding-left: calc(var(--level) * 20px);
    }

    .repo-row:not(.repo-root)::before {
      content: "";
      position: absolute;
      left: calc(var(--level) * 20px - 10px);
      top: -4px;
      bottom: 12px;
      border-left: 1px dashed #d1d5db;
    }

    .repo-node {
      display: inline-flex;
      align-items: center;
      border-radius: 999px;
      padding: 4px 10px;
      box-shadow: 0 1px 2px rgb(15 23 42 / 0.04);
      background: #e5e7eb;
      color: #c1c3c6;
    }

    .repo-icon {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-right: 6px;
      font-size: 0.75rem;
      background: rgba(255, 255, 255, 0.85);
    }

    .repo-label {
      font-weight: 600;
    }

    .repo-desc {
      margin-left: 4px;
      color: #6b7280;
      font-size: 0.72rem;
    }

    /* Color tags for the ‚Äúbubble‚Äù look */
    .tag-green { background: #dcfce7; color: #166534; }
    .tag-green .repo-icon { background: #bbf7d0; color: #166534; }

    .tag-blue { background: #dbeafe; color: #1d4ed8; }
    .tag-blue .repo-icon { background: #bfdbfe; color: #1d4ed8; }

    .tag-amber { background: #fef3c7; color: #92400e; }
    .tag-amber .repo-icon { background: #fde68a; color: #92400e; }

    .tag-red { background: #fee2e2; color: #b91c1c; }
    .tag-red .repo-icon { background: #fecaca; color: #b91c1c; }

    .tag-teal { background: #ccfbf1; color: #0f766e; }
    .tag-teal .repo-icon { background: #a5f3fc; color: #0f766e; }

    .tag-purple { background: #ede9fe; color: #6d28d9; }
    .tag-purple .repo-icon { background: #ddd6fe; color: #6d28d9; }

    .tag-pink { background: #fce7f3; color: #be185d; }
    .tag-pink .repo-icon { background: #f9a8d4; color: #be185d; }

    .tag-slate { background: #e5e7eb; color: #374151; }
    .tag-slate .repo-icon { background: #f3f4f6; color: #374151; }


    footer {
      padding: 8px 16px 16px;
      text-align: center;
      font-size: 0.8rem;
      color: #6b7280;
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div style="display:flex;align-items:center;gap:10px;">
        <div class="logo-mark">SC</div>
        <div>
          <div style="font-weight:600;">SchoolCloud Portal</div>
          <div style="font-size:0.8rem;color:#6b7280;">A secure serverless portal for schools</div>
        </div>
      </div>
      <nav>
        <a href="/profile.html">Profile</a>
        <a href="/activity.html">Activity &amp; Logs</a>
        <a href="/risk-lab.html">Security Lab</a>
        <a href="/security-overview.html">Security Overview</a>
        <a href="/cicd-pipeline.html">CI/CD Pipeline</a>
        <button id="logout" type="button">Logout</button>
      </nav>
    </header>

    <!-- hero -->
    <section class="hero-card">
      <div>
        <div class="pill">
          Secure by design
          <span style="opacity:.7;">‚Ä¢ AWS serverless &amp; DevSecOps</span>
        </div>
        <h1>Secure access for students, teachers, and admins.</h1>
        <p class="hero-subtitle">
          The SchoolCloud Portal uses Amazon Cognito, CloudFront + WAF, API Gateway, Lambda,
          DynamoDB, and Macie‚Äîdeployed with Terraform and GitHub Actions‚Äîto give schools a
          simple, auditable way for users to manage their profiles and see how their accounts
          are being used.
        </p>

        <div class="roles">
          <span class="role-chip">Students ‚Äì update your profile and see your activity.</span>
          <span class="role-chip">Teachers ‚Äì verify access and keep accounts secure.</span>
          <span class="role-chip">Admins ‚Äì monitor security events, alerts, and findings.</span>
        </div>

        <div class="cta-group">
          <a id="signin" class="btn-primary" href="#">Sign in with school account</a>
          <a href="/activity.html" class="btn-ghost">View Activity &amp; Logs</a>
        </div>

        <p class="hero-meta">
          Sign-in is powered by Amazon Cognito. Only authenticated users can reach their
          Profile, Activity, Security Lab, and CI/CD views.
        </p>
      </div>

      <aside class="side-panel">
        <h2>About the project</h2>
        <p>
          This portal was built as a secure serverless reference for K‚Äì12 and higher education.
          It focuses on strong identity, deep logging, and modern DevSecOps practices.
        </p>
        <p>
          <strong>Highlights:</strong>
        </p>
        <ul>
          <li>Serverless edge-to-data architecture (CloudFront, WAF, S3, API Gateway, Lambda, DynamoDB)</li>
          <li>Per-user profiles with roles (student / teacher / admin) and audit-friendly activity views</li>
          <li>Security pages powered by CloudTrail, AWS Config, GuardDuty, Macie, and Security Hub</li>
          <li>EventBridge + SNS alerts, all managed as code with Terraform and GitHub Actions CI/CD</li>
        </ul>
      </aside>
    </section>

    <!-- About me -->
    <section class="section">
      <h2>About the Builder</h2>
      <p>
        Hi, I‚Äôm Giovanna. I‚Äôm interested in cloud security, automation,and development.
        This project shows how to combine AWS security best practices (WAF, Macie, GuardDuty, Security Hub, IAM Access Analyzer) 
        with a friendly, student-facing experience.
      </p>
      <p>
        You can explore the portal using the sign-in button above and then visit your
        <a href="/profile.html">Profile</a>, <a href="/activity.html">Activity &amp; Logs</a>,
        and the <a href="/security-overview.html">Security Overview</a> and
        <a href="/cicd-pipeline.html">CI/CD Pipeline</a> pages to see how everything is wired together.
      </p>
    </section>

    <!-- Architecture / diagram -->
    <!-- Architecture / diagram -->
<section class="section">
  <h2>Architecture Overview</h2>
  <p>
    The SchoolCloud Portal runs entirely on AWS managed services. Static content is served from S3
    through Amazon CloudFront and AWS WAF, while Amazon API Gateway and AWS Lambda handle profile
    and activity logic backed by DynamoDB tables. CloudTrail, AWS Config, GuardDuty, Macie, Security
    Hub, and IAM Access Analyzer provide logging, detection, and security analytics across the
    environment.
  </p>
  <p class="muted" style="font-size:0.85rem;color:#6b7280;">
    Diagram exported from the project‚Äôs AWS architecture model, including data flows from CloudFront
    and Cognito through API Gateway, Lambda, DynamoDB, Macie, and the security services that feed
    alerts into EventBridge and SNS.
  </p>

  <div class="diagram-wrapper">
    <img src="/img/schoolcloud-architecture.png"
         alt="SchoolCloud Portal architecture diagram">
  </div>
</section>

<section class="section">
  <h2>Terraform infrastructure layout</h2>
      <p style="font-size:0.88rem;color:#6b7280;margin-top:4px;">
        Terraform is organized under <code>infra/</code> into focused modules for foundations, network, edge,
        identity, data, application Lambdas, and CI/CD IAM. This diagram mirrors the repository layout.
      </p>
      <div class="repo-bubbles">
        <!-- Root repo -->
        <div class="repo-row repo-root" style="--level:0;">
          <div class="repo-node tag-green">
            <span class="repo-icon">‚ñæ</span>
            <span class="repo-label">SchoolCloud Repository</span>
          </div>
        </div>

        <!-- infra/ -->
        <div class="repo-row" style="--level:1;">
          <div class="repo-node tag-blue">
            <span class="repo-icon">üìÅ</span>
            <span class="repo-label">infra/</span>
            <span class="repo-desc">Terraform Infrastructure as Code</span>
          </div>
        </div>
        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-blue">
            <span class="repo-icon">üìÑ</span>
            <span class="repo-label">main.tf</span>
          </div>
        </div>
        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-blue">
            <span class="repo-icon">üìÑ</span>
            <span class="repo-label">backend.tf</span>
          </div>
        </div>
        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-blue">
            <span class="repo-icon">üìÑ</span>
            <span class="repo-label">providers.tf</span>
          </div>
        </div>
        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-blue">
            <span class="repo-icon">üìÑ</span>
            <span class="repo-label">variables.tf</span>
          </div>
        </div>
        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-blue">
            <span class="repo-icon">üìÑ</span>
            <span class="repo-label">outputs.tf</span>
          </div>
        </div>
        <!-- modules/ -->
        <div class="repo-row" style="--level:1;">
          <div class="repo-node tag-amber">
            <span class="repo-icon">üìÅ</span>
            <span class="repo-label">modules/</span>
            <span class="repo-desc">Terraform modules</span>
          </div>
        </div>

        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-red">
            <span class="repo-icon">üõ°Ô∏è</span>
            <span class="repo-label">foundations</span>
            <span class="repo-desc">Logs bucket, CloudTrail, AWS Config, GuardDuty, Security Hub, Access Analyzer</span>
          </div>
        </div>

        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-blue">
            <span class="repo-icon">üåê</span>
            <span class="repo-label">network</span>
            <span class="repo-desc">VPC, public/private subnets, NAT, endpoints, security groups</span>
          </div>
        </div>

        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-teal">
            <span class="repo-icon">üßä</span>
            <span class="repo-label">edge</span>
            <span class="repo-desc">S3 web, CloudFront, WAFv2, Route 53, WAF logging</span>
          </div>
        </div>

        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-purple">
            <span class="repo-icon">üë§</span>
            <span class="repo-label">identity</span>
            <span class="repo-desc">Cognito User Pool, app client, Hosted UI domain</span>
          </div>
        </div>

        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-green">
            <span class="repo-icon">üß±</span>
            <span class="repo-label">data</span>
            <span class="repo-desc">DynamoDB (profiles &amp; findings), KMS key, PII scanner &amp; Macie ingest Lambdas</span>
          </div>
        </div>

        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-amber">
            <span class="repo-icon">üí¨</span>
            <span class="repo-label">app_profile</span>
            <span class="repo-desc">Profile &amp; findings APIs, auth exchange Lambda, IAM</span>
          </div>
        </div>

        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-amber">
            <span class="repo-icon">üìä</span>
            <span class="repo-label">app_telemetry</span>
            <span class="repo-desc">Telemetry Lambda, /activity route, CloudWatch log queries</span>
          </div>
        </div>

        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-pink">
            <span class="repo-icon">üìà</span>
            <span class="repo-label">app_posture</span>
            <span class="repo-desc">Security posture Lambda, /security/posture route, reads CloudTrail/GuardDuty/Security Hub/Config/WAF</span>
          </div>
        </div>

        <div class="repo-row" style="--level:2;">
          <div class="repo-node tag-slate">
            <span class="repo-icon">üîó</span>
            <span class="repo-label">cicd_iam</span>
            <span class="repo-desc">GitHub OIDC, deploy role, IAM permissions boundary for Terraform</span>
          </div>
         </div>
    <!-- apps/ -->
    <div class="repo-row" style="--level:1;">
      <div class="repo-node tag-amber">
        <span class="repo-icon">üìÅ</span>
        <span class="repo-label">apps/</span>
        <span class="repo-desc">Application code</span>
      </div>
    </div>
    <div class="repo-row" style="--level:2;">
      <div class="repo-node tag-amber">
        <span class="repo-icon">üåç</span>
        <span class="repo-label">web/</span>
        <span class="repo-desc">HTML front end</span>
      </div>
    </div>
    <div class="repo-row" style="--level:2;">
      <div class="repo-node tag-amber">
        <span class="repo-icon">üêç</span>
        <span class="repo-label">lambda/</span>
        <span class="repo-desc">Python Lambdas</span>
      </div>
    </div>
    <!-- .github/ -->
    <div class="repo-row" style="--level:1;">
      <div class="repo-node tag-blue">
        <span class="repo-icon">üìÅ</span>
        <span class="repo-label">.github/</span>
        <span class="repo-desc">GitHub configuration</span>
      </div>
    </div>
    <div class="repo-row" style="--level:2;">
      <div class="repo-node tag-blue">
        <span class="repo-icon">‚öôÔ∏è</span>
        <span class="repo-label">workflows/</span>
        <span class="repo-desc">CI/CD pipelines</span>
      </div>
    </div>

    <!-- docs/ -->
    <div class="repo-row" style="--level:1;">
      <div class="repo-node tag-purple">
        <span class="repo-icon">üìö</span>
        <span class="repo-label">docs/</span>
        <span class="repo-desc">Documentation</span>
      </div>
      </div>
    </section>
    
  <footer>
    Deployed via GitHub Actions &nbsp;|&nbsp; Built on AWS serverless primitives and managed with Terraform
  </footer>

  <script>
    const hosted = "https://ssp-portal.auth.us-east-1.amazoncognito.com/oauth2/authorize";
    const client = "743jm6pl7ceft1mg0emvlcqr5e";
    const redirect = encodeURIComponent("https://portal.secureschoolcloud.org/auth/callback/");
    const scope = encodeURIComponent("openid email profile");
    document.getElementById("signin").href =
      `${hosted}?client_id=${client}&response_type=code&scope=${scope}&redirect_uri=${redirect}`;
  </script>
</body>
</html>
